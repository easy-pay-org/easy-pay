(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{137:function(e,t,a){e.exports=a(216)},142:function(e,t,a){},143:function(e,t,a){},213:function(e,t){},216:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(17),o=a.n(s),l=(a(142),a(5)),c=a(6),i=a(9),u=a(8),m=a(10),d=a(44),p=(a(143),a(11)),h=a(248),g=a(250),b=a(251),E=a(252),f=a(92),v=a.n(f),O=a(125),j=a.n(O),y=function(e){return console.log("navv",e),"/owner/home"===e.user.match.url?r.a.createElement(h.a,{position:"static",color:"default"},r.a.createElement(g.a,null,r.a.createElement(b.a,{edge:"start",color:"inherit","aria-label":"back"}),r.a.createElement(p.b,{to:"/"},r.a.createElement("img",{src:"/img/logo.png",alt:"logo",className:"logo"})))):"/home"===e.user.match.url?r.a.createElement(h.a,{position:"static",color:"default"},r.a.createElement(g.a,null,r.a.createElement(b.a,{edge:"start",color:"inherit","aria-label":"back"}),r.a.createElement(p.b,{to:"/"},r.a.createElement("img",{src:"/img/logo.png",alt:"logo",className:"logo"})))):e.user.match.params.table_id?r.a.createElement(h.a,{position:"static",color:"default"},r.a.createElement(g.a,null,r.a.createElement(b.a,{edge:"start",color:"inherit","aria-label":"back",onClick:function(t){return e.user.history.goBack()}},r.a.createElement(v.a,null)),r.a.createElement(p.b,{to:"/"},r.a.createElement("img",{src:"/img/logo.png",alt:"logo",className:"logo"})),r.a.createElement(p.b,{to:"/".concat(e.user.match.params.restaurant_id,"/").concat(e.user.match.params.table_id,"/chat")},r.a.createElement(b.a,{"aria-label":"Show 11 new notifications",color:"inherit"},r.a.createElement(E.a,{color:"secondary"},r.a.createElement(j.a,null)))))):r.a.createElement(h.a,{position:"static",color:"default"},r.a.createElement(g.a,null,r.a.createElement(b.a,{edge:"start",color:"inherit","aria-label":"back",onClick:function(t){return e.user.history.goBack()}},r.a.createElement(v.a,null)),r.a.createElement(p.b,{to:"/"},r.a.createElement("img",{src:"/img/logo.png",alt:"logo",className:"logo"}))))},w=a(253),x=a(254),C=a(255),U=a(256),k=a(257),I=a(258),S=a(259),N=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e,t){a.setState({value:t})},a.handlesubmit=function(e){e.preventDefault(),a.setState({redirect:!0})},a.state={value:"recents",order:[],redirect:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.state.redirect?r.a.createElement(d.a,{to:"/5d07d8a8bc97aa0e25cdcbd7/1/bag"}):"owner"===this.props.user.role?r.a.createElement(w.a,{value:this.state.value,onChange:this.handleChange},r.a.createElement(x.a,{label:"Home",value:"home",icon:r.a.createElement(C.a,null),component:p.b,to:"/home"}),r.a.createElement(x.a,{label:"Detalles",value:"detalles",icon:r.a.createElement(U.a,null)}),r.a.createElement(x.a,{label:"Perfil",value:"perfil",icon:r.a.createElement(k.a,null),component:p.b,to:"/"})):r.a.createElement(w.a,{value:this.state.value,onChange:this.handleChange},r.a.createElement(x.a,{label:"Home",value:"home",icon:r.a.createElement(C.a,null),component:p.b,to:"/home"}),r.a.createElement(x.a,{label:"QR",value:"qr",icon:r.a.createElement(I.a,null),component:p.b,to:"/qr"}),r.a.createElement(x.a,{label:"Cart",value:"cart",icon:r.a.createElement(S.a,null),component:p.b,to:"/5d07e9358f0aa17b2c62cc32/1/order"}),r.a.createElement(x.a,{label:"Perfil",value:"perfil",icon:r.a.createElement(k.a,null),component:p.b,to:"/"}))}}]),t}(n.Component),_=a(260),T=a(126),q=a.n(T),P=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={show:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.restaurant;return console.log(this.props),r.a.createElement("div",{className:"cards"},r.a.createElement("figure",null,r.a.createElement("img",{src:e.logo,alt:"restaurant"})),r.a.createElement("section",null,r.a.createElement("h2",null,e.name),r.a.createElement("p",null,e.address),r.a.createElement("div",null,r.a.createElement(p.b,{to:"/owner/".concat(e._id,"/tables")},"Entrar"),r.a.createElement(p.b,{to:"/owner/".concat(e._id,"/edit")},"Editar"))))}}]),t}(n.Component),z=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState({redirect:!0})},a.state={redirect:!1,show:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){console.log(this.props.loggedInUser);var e=this.props.loggedInUser.restaurant;return this.state.redirect?r.a.createElement(d.a,{to:"/owner/restaurant/new"}):r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(y,{user:this.props}),r.a.createElement("section",{className:"content-home"},r.a.createElement("header",{className:"hero"},r.a.createElement("h1",null,"Welcome to Easypay")),r.a.createElement("div",null,e?r.a.createElement("section",{className:"container"},r.a.createElement("h2",null,"Your restaurant"),r.a.createElement(P,{restaurant:e})):r.a.createElement("section",{className:"container"},r.a.createElement("h2",null,"Crear restaurante"),r.a.createElement(_.a,{color:"primary","aria-label":"Add",onClick:this.handleChange},r.a.createElement(q.a,null))))),r.a.createElement(N,{user:this.props.loggedInUser})))}}]),t}(n.Component),D=a(16),F=a(15),L=a(74),R=a.n(L),A=function e(){var t=this;Object(l.a)(this,e),this.handleUpload=function(e){return t.service.post("/upload",e,{withCredentials:!0}).then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.postRestaurant=function(e,a){return t.service.post("newRestaurant",{restaurant:e,user:a},{withCredentials:!0}).then(function(e){return e.data}).catch(function(e){return console.log(e.response.data.msg)})},this.updateRestaurant=function(e){return t.service.post("updateRestaurant",e,{withCredentials:!0}).then(function(e){return e.data}).catch(function(e){return console.log(e.response.data.msg)})},this.getRestaurant=function(e,a){return t.service.get("getRestaurant/".concat(e,"/").concat(a),{withCredentials:!0}).then(function(e){return e.data}).catch(function(e){return console.log("Error",e)})},this.postMenu=function(e,a){return t.service.post("newPlate",{menu:e,restaurant_id:a},{withCredentials:!0}).then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.updateMenu=function(e){return t.service.post("updateMenu",{menu:e},{withCredentials:!0}).then(function(e){return e.data}).catch(function(e){return console.log(e.response.data.msg)})},this.deleteMenu=function(e){return t.service.post("deleteMenu",{menu:e},{withCredentials:!0}).then(function(e){return e.data}).catch(function(e){return console.log(e.response.data.msg)})},this.getMenu=function(e){return t.service.get("getRestaurantMenu/".concat(e),{restaurant_id:e},{withCredentials:!0}).then(function(e){return e.data}).catch(function(e){return console.log(e.response.data.msg)})},this.postOrder=function(e){return t.service.post("newOrder",{order:e},{withCredentials:!0}).then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.updateOrder=function(e){return t.service.post("updateOrder",{order:e},{withCredentials:!0}).then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.getOrder=function(){return t.service.get("getOrder",{withCredentials:!0}).then(function(e){return e.data}).catch(function(e){return console.log(e.response.data.msg)})},this.service=R.a.create({baseURL:"\u200bhttps://app-easy-pay.herokuapp.com/api/"})},M=a(268),B=a(262),H=a(42),W=a.n(H),$=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handlechange=function(e){var t=e.target,n=t.name,r=t.value;a.setState({restaurant:Object(F.a)({},a.state.restaurant,Object(D.a)({},n,r))})},a.handleSubmit=function(e){e.preventDefault(),a.services.postRestaurant(a.state.restaurant,a.props.loggedInUser).then(function(e){console.log("restaurant creado",e.restaurant),console.log("mesas",e.restaurant.tables),a.props.setTheUser(e),a.setState({restaurant:Object(F.a)({},a.state.restaurant,{id:e.restaurant._id}),redirect:!0})})},a.uploadImg=function(e){e.preventDefault(),document.getElementById("logo").click()},a.handleFileUpload=function(e){var t=new FormData;t.append("imageUrl",e.target.files[0]),a.services.handleUpload(t).then(function(e){a.setState({restaurant:Object(F.a)({},a.state.restaurant,{logo:e.secure_url})})}).catch(function(e){return console.log(e)})},a.state={restaurant:{name:"",address:"",phone:"",description:"",logo:"",tables_quantity:"",id:""},redirect:!1,show:!1},a.services=new A,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.state.redirect?r.a.createElement(d.a,{to:"/owner/".concat(this.state.restaurant.id,"/menu/new")}):r.a.createElement("div",null,r.a.createElement(y,{user:this.props}),r.a.createElement("section",{className:"content"},r.a.createElement("h2",null,"Crear restaurante"),r.a.createElement("form",{onSubmit:this.handleSubmit,className:"form",autoComplete:"off"},r.a.createElement(M.a,{required:!0,id:"name",name:"name",placeholder:"Introduzca el nombre de su restaurante",label:"Nombre",value:this.state.restaurant.name,onChange:this.handlechange,type:"text",InputLabelProps:{shrink:!0},margin:"normal",variant:"outlined"}),r.a.createElement(M.a,{required:!0,id:"address",name:"address",label:"Direcci\xf3n",placeholder:"Introduzca la direcci\xf3n del restaurante",value:this.state.restaurant.address,onChange:this.handlechange,type:"text",InputLabelProps:{shrink:!0},margin:"normal",variant:"outlined"}),r.a.createElement(M.a,{required:!0,id:"phone",name:"phone",label:"Tel\xe9fono",placeholder:"Introduzca un n\xfamero de contacto",value:this.state.restaurant.phone,onChange:this.handlechange,type:"number",InputLabelProps:{shrink:!0},margin:"normal",variant:"outlined"}),r.a.createElement("label",{htmlFor:"logo",className:"upload"},r.a.createElement("input",{onChange:this.handleFileUpload,type:"file",id:"logo",name:"logo"})),r.a.createElement("div",{className:"width"},r.a.createElement(B.a,{variant:"contained",color:"default",onClick:this.uploadImg},"Subir logo",r.a.createElement(W.a,null))),r.a.createElement(M.a,{required:!0,id:"tables_quantity",name:"tables_quantity",label:"N\xfamero de mesas",placeholder:"Introduzca n\xfamero de mesas",value:this.state.restaurant.tables_quantity,onChange:this.handlechange,type:"number",InputLabelProps:{shrink:!0},margin:"normal",variant:"outlined"}),r.a.createElement(M.a,{required:!0,id:"description",name:"description",label:"Descripci\xf3n",placeholder:"Introduzca una descripci\xf3n",multiline:!0,rows:"2",value:this.state.restaurant.description,onChange:this.handlechange,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(B.a,{variant:"contained",type:"submit",color:"primary"},"Siguiente"))),r.a.createElement(N,{user:this.props.loggedInUser}))}}]),t}(n.Component),G=a(20),Q=a(261),V=a(270),J=a(127),Y=a(218),K=a(263),X=a(23);function Z(){var e=Object(G.a)(['\n    padding: 6px 16px;\n    font-size: 0.875rem;\n    min-width: 64px;\n    box-sizing: border-box;\n    font-family: "Roboto", "Helvetica", "Arial", sans-serif;\n    font-weight: 500;\n    line-height: 1.75;\n    border-radius: 4px;\n    letter-spacing: 0.02857em;\n    text-transform: uppercase;\n    color: #fff;\n    background-color: #000000;\n    margin-top: 20px;\n    width: 40%;\n    box-shadow: 0px 1px 5px 0px rgba(0,0,0,0.2), 0px 2px 2px 0px rgba(0,0,0,0.14), 0px 3px 1px -2px rgba(0,0,0,0.12);\n    text-align:center;\n    margin: 20px 0;\n']);return Z=function(){return e},e}var ee=X.a.div(Z()),te=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState({menu:Object(F.a)({},a.state.menu,Object(D.a)({},n,r))})},a.handleSubmit=function(e){e.preventDefault(),a.services.postMenu(a.state.menu,a.state.restaurant.id).then(function(e){console.log("menu creado en el usuario",e),a.props.setTheUser(e),a.setState({menu:Object(F.a)({},a.state.menu,{name:"",price:"",image:"",description:""})})})},a.uploadImg=function(e){e.preventDefault(),document.getElementById("image").click()},a.handleFileUpload=function(e){var t=new FormData;t.append("imageUrl",e.target.files[0]),a.services.handleUpload(t).then(function(e){a.setState({menu:Object(F.a)({},a.state.menu,{image:e.secure_url})})}).catch(function(e){return console.log(e)})},a.state={menu:{type:"first_courses",name:"",price:"",image:"",description:""},restaurant:{id:a.props.match.params.restaurant_id},redirect:!1,show:!1},a.services=new A,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(y,{user:this.props}),r.a.createElement("section",{className:"content"},r.a.createElement("header",{className:"col-2-header"},r.a.createElement("h2",null,"Agregar Platos"),r.a.createElement(p.b,{to:"/owner/".concat(this.state.restaurant.id,"/courses/")},"Ver lista")),r.a.createElement("form",{onSubmit:this.handleSubmit,className:"form",autoComplete:"off"},r.a.createElement(Q.a,null,r.a.createElement(V.a,{shrink:!0,htmlFor:"type"},"Categor\xeda"),r.a.createElement(J.a,{onChange:this.handleChange,input:r.a.createElement(Y.a,{name:"type",id:"type"})},r.a.createElement("option",{value:""}),r.a.createElement("option",{value:"first_courses"},"Entrantes"),r.a.createElement("option",{value:"second_courses"},"Segundos"),r.a.createElement("option",{value:"drinks"},"Bebidas"),r.a.createElement("option",{value:"desserts"},"Postre"))),r.a.createElement(M.a,{required:!0,id:"name",name:"name",placeholder:"Introduzca el nombre",label:"Nombre Plato",value:this.state.menu.name,onChange:this.handleChange,type:"text",InputLabelProps:{shrink:!0},margin:"normal",variant:"outlined"}),r.a.createElement(M.a,{required:!0,id:"price",name:"price",type:"number",placeholder:"Introduzca el precio",label:"Precio del plato",value:this.state.menu.price,onChange:this.handleChange,InputLabelProps:{shrink:!0},InputProps:{startAdornment:r.a.createElement(K.a,{position:"start"},"\u20ac")},margin:"normal",variant:"outlined"}),r.a.createElement("label",{htmlFor:"image",className:"upload"},r.a.createElement("input",{onChange:this.handleFileUpload,type:"file",id:"image",name:"image"})),r.a.createElement("div",{className:"width"},r.a.createElement(B.a,{variant:"contained",color:"default",onClick:this.uploadImg},"Subir imagen",r.a.createElement(W.a,null))),r.a.createElement(M.a,{required:!0,id:"description",name:"description",label:"Descripci\xf3n",placeholder:"Introduzca una descripci\xf3n",multiline:!0,rows:"2",value:this.state.menu.description,onChange:this.handleChange,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement("div",{className:"btn-bottom"},r.a.createElement(B.a,{variant:"contained",type:"submit",color:"primary"},"A\xf1adir"),r.a.createElement(ee,null,r.a.createElement(p.b,{to:"/owner/home"},"Finalizar"))))),r.a.createElement(N,{user:this.props.loggedInUser}))}}]),t}(n.Component),ae=function e(){var t=this;Object(l.a)(this,e),this.signup=function(e,a,n){return t.service.post("/signup",{username:e,password:a,role:n}).then(function(e){return e.data})},this.login=function(e,a){return t.service.post("/login",{username:e,password:a}).then(function(e){return e.data})},this.logout=function(){return t.service.get("/logout").then(function(e){return e.data})},this.loggedin=function(){return t.service.get("/loggedin").then(function(e){return e.data})},this.service=R.a.create({baseURL:"\u200bhttps://app-easy-pay.herokuapp.com/api/",withCredentials:!0})},ne=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).logout=function(){a.service.logout().then(function(e){a.props.setTheUser(null)})},a.service=new ae,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"display"},r.a.createElement(p.b,{to:"/"},"Inicio")," ",r.a.createElement("br",null),r.a.createElement(p.b,{onClick:this.logout,to:"/"},"Cerrar sesi\xf3n")," ",r.a.createElement("br",null))}}]),t}(n.Component),re=a(264),se=a(265),oe=a(266);function le(){var e=Object(G.a)(["\n    height: 100vh;\n    width: 100vw;\n    background: url('../../../img/signup.jpg') right no-repeat/ cover;\n\n"]);return le=function(){return e},e}var ce=X.a.div(le()),ie=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(D.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,r=t.password,s=t.role;a.services.signup(n,r,s).then(function(e){a.setState({username:"",password:"",role:"",redirect:!0}),a.props.setTheUser(e)}).catch(function(e){return console.log(e.response.data.message)})},a.state={username:"",password:"",role:"",redirect:!1},a.services=new ae,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.state.redirect?r.a.createElement(d.a,{to:"/"}):r.a.createElement(ce,null,r.a.createElement("div",{className:"section-1"},r.a.createElement("img",{src:"../../../img/logoWHITE.png",alt:"logo white",className:"logowhite"}),r.a.createElement("p",null,'"your restaurant has never been this efficient"'),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(Q.a,null,r.a.createElement(V.a,{shrink:!0,htmlFor:"role"}),r.a.createElement(J.a,{onChange:this.handleChange,input:r.a.createElement(Y.a,{name:"role",id:"role",startAdornment:r.a.createElement(re.a,null)})},r.a.createElement("option",{value:""}),r.a.createElement("option",{value:"user"},"usuario"),r.a.createElement("option",{value:"owner"},"propietario"))),r.a.createElement(Y.a,{required:!0,id:"username",onChange:this.handleChange,value:this.state.username,className:"input-front",type:"text",name:"username",placeholder:"username",startAdornment:r.a.createElement(se.a,null)}),r.a.createElement(Y.a,{required:!0,id:"password",onChange:this.handleChange,value:this.state.password,className:"input-front",type:"password",name:"password",placeholder:"password",startAdornment:r.a.createElement(oe.a,null)}),r.a.createElement("button",{type:"submit"},"Registrar")),r.a.createElement("footer",null,r.a.createElement(p.b,{to:"/"},"Forgot Details?"),r.a.createElement(p.b,{to:"/login"},"Login"))))}}]),t}(n.Component);function ue(){var e=Object(G.a)(["\n    height: 100vh;\n    width: 100vw;\n    background: url('../../../img/login.jpg') center no-repeat/ cover;\n\n"]);return ue=function(){return e},e}var me=X.a.div(ue()),de=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).setRedirect=function(){a.setState({redirect:!0})},a.renderRedirect=function(){if(a.state.redirect)return r.a.createElement(d.a,{to:"/owner/restaurant/new"})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(D.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,r=t.password;a.services.login(n,r).then(function(e){a.setState({username:"",password:"",redirect:!0}),a.props.setTheUser(e)}).catch(function(e){return console.log(e.response.data.message)})},a.state={username:"",password:"",redirect:!1},a.services=new ae,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.state.redirect?r.a.createElement(d.a,{to:"/"}):r.a.createElement(me,null,r.a.createElement("div",{className:"section-1"},r.a.createElement("img",{src:"../../../img/logoWHITE.png",alt:"logo white",className:"logowhite"}),r.a.createElement("p",null,'"your restaurant has never been this efficient"'),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(Y.a,{id:"username",onChange:this.handleChange,value:this.state.username,className:"input-front",type:"text",name:"username",placeholder:"username",startAdornment:r.a.createElement(se.a,null)}),r.a.createElement(Y.a,{id:"password",onChange:this.handleChange,value:this.state.password,className:"input-front",type:"password",name:"password",placeholder:"password",startAdornment:r.a.createElement(oe.a,null)}),r.a.createElement("button",{type:"submit"},"Login")),r.a.createElement("footer",null,r.a.createElement(p.b,{to:"/"},"Forgot Details?"),r.a.createElement(p.b,{to:"/signup"},"Create Account"))))}}]),t}(n.Component),pe=a(79),he=function(e){var t=e.component,a=e.user,n=e.setUser,s=Object(pe.a)(e,["component","user","setUser"]);return r.a.createElement(d.b,Object.assign({},s,{render:function(e){return a?r.a.createElement(t,Object.assign({},e,{loggedInUser:a,setTheUser:n})):r.a.createElement(d.a,{to:{pathname:"/"}})}}))},ge=function(e){var t=e.component,a=e.user,n=e.setUser,s=Object(pe.a)(e,["component","user","setUser"]);return r.a.createElement(d.b,Object.assign({},s,{render:function(e){return a&&"user"===a.role?r.a.createElement(t,Object.assign({},e,{loggedInUser:a,setTheUser:n})):r.a.createElement(d.a,{to:{pathname:"/"}})}}))};function be(){var e=Object(G.a)(['\n    padding: 6px 16px;\n    font-size: 0.875rem;\n    min-width: 64px;\n    box-sizing: border-box;\n    font-family: "Roboto", "Helvetica", "Arial", sans-serif;\n    font-weight: 500;\n    line-height: 1.75;\n    border-radius: 4px;\n    letter-spacing: 0.02857em;\n    text-transform: uppercase;\n    color: #fff;\n    background-color: #000000;\n    margin-top: 20px;\n    width: 40%;\n    box-shadow: 0px 1px 5px 0px rgba(0,0,0,0.2), 0px 2px 2px 0px rgba(0,0,0,0.14), 0px 3px 1px -2px rgba(0,0,0,0.12);\n    text-align:center;\n    margin: 20px 0;\n']);return be=function(){return e},e}var Ee=X.a.div(be()),fe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handlechange=function(e){var t=e.target,n=t.name,r=t.value;a.setState({restaurant:Object(F.a)({},a.state.restaurant,Object(D.a)({},n,r))})},a.handleSubmit=function(e){e.preventDefault(),a.services.updateRestaurant(a.state.restaurant).then(function(e){console.log("restaurant updated en el usuario",e),a.props.setTheUser(e),a.setState({redirect:!0})})},a.uploadImg=function(e){e.preventDefault(),document.getElementById("logo").click()},a.handleFileUpload=function(e){var t=new FormData;t.append("imageUrl",e.target.files[0]),a.services.handleUpload(t).then(function(e){a.setState({restaurant:Object(F.a)({},a.state.restaurant,{logo:e.secure_url})})}).catch(function(e){return console.log(e)})},a.state={user:a.props.loggedInUser,restaurant:{name:a.props.loggedInUser.restaurant.name,address:a.props.loggedInUser.restaurant.address,phone:a.props.loggedInUser.restaurant.phone,description:a.props.loggedInUser.restaurant.description,logo:a.props.loggedInUser.restaurant.logo,tables_quantity:a.props.loggedInUser.restaurant.tables.length,id:a.props.loggedInUser.restaurant._id},redirect:!1,show:!1},console.log(a.props.loggedInUser),a.services=new A,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.state.redirect?r.a.createElement(d.a,{to:"/owner/home"}):r.a.createElement("div",null,r.a.createElement(y,{user:this.props}),r.a.createElement("section",{className:"content"},r.a.createElement("h2",null,"Editar restaurante"),r.a.createElement("form",{onSubmit:this.handleSubmit,className:"form",autoComplete:"off"},r.a.createElement(M.a,{required:!0,id:"name",name:"name",placeholder:"Introduzca el nombre de su restaurante",label:"Nombre",value:this.state.restaurant.name,onChange:this.handlechange,type:"text",InputLabelProps:{shrink:!0},margin:"normal",variant:"outlined"}),r.a.createElement(M.a,{required:!0,id:"address",name:"address",label:"Direcci\xf3n",placeholder:"Introduzca la direcci\xf3n del restaurante",value:this.state.restaurant.address,onChange:this.handlechange,type:"text",InputLabelProps:{shrink:!0},margin:"normal",variant:"outlined"}),r.a.createElement(M.a,{required:!0,id:"phone",name:"phone",label:"Tel\xe9fono",placeholder:"Introduzca un n\xfamero de contacto",value:this.state.restaurant.phone,onChange:this.handlechange,type:"number",InputLabelProps:{shrink:!0},margin:"normal",variant:"outlined"}),r.a.createElement("label",{htmlFor:"logo",className:"upload"},r.a.createElement("input",{onChange:this.handleFileUpload,type:"file",id:"logo",name:"logo"})),r.a.createElement("div",{className:"width"},r.a.createElement(B.a,{variant:"contained",color:"default",onClick:this.uploadImg},"Subir logo",r.a.createElement(W.a,null))),r.a.createElement(M.a,{required:!0,id:"tables_quantity",name:"tables_quantity",label:"N\xfamero de mesas",placeholder:"Introduzca n\xfamero de mesas",value:this.state.restaurant.tables_quantity,onChange:this.handlechange,type:"number",InputLabelProps:{shrink:!0},margin:"normal",variant:"outlined"}),r.a.createElement(M.a,{required:!0,id:"description",name:"description",label:"Descripci\xf3n",placeholder:"Introduzca una descripci\xf3n",multiline:!0,rows:"2",value:this.state.restaurant.description,onChange:this.handlechange,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement("div",{className:"btn-bottom"},r.a.createElement(B.a,{variant:"contained",type:"submit",color:"primary"},"Guardar"),r.a.createElement(Ee,null,r.a.createElement(p.b,{to:"/owner/".concat(this.state.restaurant.id,"/courses"),variant:"contained",type:"submit",color:"primary"},"Courses"))))),r.a.createElement(N,{user:this.props.loggedInUser}))}}]),t}(n.Component),ve=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.table_id,a=e.restaurant_id;return r.a.createElement("div",{className:"cards"},r.a.createElement("figure",null,r.a.createElement("img",{src:"../../img/tables.jpg",alt:"restaurant"})),r.a.createElement("section",null,r.a.createElement("h2",null,"Table ",t),r.a.createElement("p",null,"View your table order"),r.a.createElement("div",null,r.a.createElement(p.b,{to:"/owner/".concat(a,"}/").concat(t)}," Go "))))}}]),t}(n.Component),Oe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={restaurant:a.props.loggedInUser.restaurant,tables:a.props.loggedInUser.restaurant.tables,show:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.restaurant,a=e.tables;return console.log("restaurante",t),r.a.createElement("div",null,r.a.createElement(y,{user:this.props}),r.a.createElement("section",{className:"content-home"},r.a.createElement("header",{className:"hero-tables"},r.a.createElement("h1",null,"Your Tables")),r.a.createElement("section",{className:"container"},r.a.createElement("h2",null,"Choose the table"),a.map(function(e,a){return r.a.createElement(ve,{key:a,table_id:e.table_id,restaurant_id:t._id})}))),r.a.createElement(N,{user:this.props.loggedInUser}))}}]),t}(n.Component),je=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handlechange=function(e){var t=e.target,n=(t.name,t.value),r=a.state.course;r.quantity=n,console.log("El plato modificado",r),console.log("index",a.props.index),a.props.updateOrder(r,a.props.index),a.setState({course:Object(F.a)({},a.state.course,{quantity:n})})},a.state={course:{name:a.props.course.name,price:a.props.course.price,description:a.props.course.description,image:a.props.course.image,quantity:a.props.course.quantity,_id:a.props.course._id},show:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.course;return r.a.createElement("div",{className:"cards order"},r.a.createElement("figure",null,r.a.createElement("img",{src:e.image,alt:"restaurant"})),r.a.createElement("section",null,r.a.createElement("h2",null,e.name," ",r.a.createElement("span",null,"$",e.price)),r.a.createElement("p",null,e.description,"."),r.a.createElement("div",{className:"sum"},r.a.createElement("h6",null,"Total: ",e.price,"$"),r.a.createElement(M.a,{id:"standard-number",label:"Quantity",value:this.state.course.quantity,onChange:this.handlechange,type:"number",InputLabelProps:{shrink:!0},margin:"normal"}))))}}]),t}(n.Component),ye=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={tables:a.props.loggedInUser.restaurant.tables,show:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.tables;return console.log("ffffff",e),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(y,{user:this.props}),r.a.createElement("section",{className:"content-home"},r.a.createElement("header",{className:"hero-order"},r.a.createElement("h1",null,"Order in tables 1")),r.a.createElement("section",{className:"container"},r.a.createElement("h2",null,"Order Details")),r.a.createElement("section",{className:"footer"},r.a.createElement("h1",null,"Total: $30.00"),r.a.createElement(B.a,{variant:"contained",type:"submit",color:"primary"},"Guardar"))),r.a.createElement(N,{user:this.props.loggedInUser})))}}]),t}(n.Component);function we(){var e=Object(G.a)(['\n    padding: 6px 16px;\n    font-size: 0.875rem;\n    min-width: 64px;\n    box-sizing: border-box;\n    font-family: "Roboto", "Helvetica", "Arial", sans-serif;\n    font-weight: 500;\n    line-height: 1.75;\n    border-radius: 4px;\n    letter-spacing: 0.02857em;\n    text-transform: uppercase;\n    color: #fff;\n    background-color: #000000;\n    margin-top: 20px;\n    width: 40%;\n    box-shadow: 0px 1px 5px 0px rgba(0,0,0,0.2), 0px 2px 2px 0px rgba(0,0,0,0.14), 0px 3px 1px -2px rgba(0,0,0,0.12);\n    text-align:center;\n    margin: 20px 0;\n']);return we=function(){return e},e}var xe=X.a.div(we()),Ce=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handlechange=function(e){var t=e.target,n=t.name,r=t.value;a.setState({menu:Object(F.a)({},a.state.menu,Object(D.a)({},n,r))})},a.handleSubmit=function(e){e.preventDefault(),a.services.updateMenu(a.state.menu).then(function(e){console.log("usario con menu actualizado",e.restaurant.menu),a.props.setTheUser(e),a.setState({redirect:!0})})},a.uploadImg=function(e){e.preventDefault(),document.getElementById("image").click()},a.handleFileUpload=function(e){var t=new FormData;t.append("imageUrl",e.target.files[0]),a.services.handleUpload(t).then(function(e){a.setState({menu:Object(F.a)({},a.state.menu,{image:e.secure_url})})}).catch(function(e){return console.log(e)})},a.state={menu:{type:"first_courses",name:"",price:"",image:"",description:"",id:a.props.match.params.course_id},redirect:!1,show:!1},a.services=new A,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.loggedInUser.restaurant.menu,t=this.state.menu.id,a=e.filter(function(e){return e._id===t})[0];this.setState({menu:Object(F.a)({},this.state.menu,{type:a.type,name:a.name,price:a.price,image:a.image,description:a.description})})}},{key:"render",value:function(){return this.state.redirect?r.a.createElement(d.a,{to:"/owner/".concat(this.props.match.params.restaurant_id,"/courses")}):r.a.createElement("div",null,r.a.createElement(y,{user:this.props}),r.a.createElement("section",{className:"content"},r.a.createElement("header",{className:"col-2-header"},r.a.createElement("h2",null,"Editar platos"),r.a.createElement("a",{href:"/"},"Ver lista")),r.a.createElement("form",{onSubmit:this.handleSubmit,className:"form",autoComplete:"off"},r.a.createElement(Q.a,null,r.a.createElement(V.a,{shrink:!0,htmlFor:"type"},"Categor\xeda"),r.a.createElement(J.a,{value:this.state.menu.type,onChange:this.handleChange,input:r.a.createElement(Y.a,{name:"type",id:"type"})},r.a.createElement("option",{value:"first_courses"},"Entrantes"),r.a.createElement("option",{value:"second_courses"},"Segundos"),r.a.createElement("option",{value:"drinks"},"Bebidas"),r.a.createElement("option",{value:"desserts"},"Postre"))),r.a.createElement(M.a,{required:!0,id:"name",name:"name",placeholder:"Introduzca el nombre",label:"Nombre Plato",value:this.state.menu.name,onChange:this.handlechange,type:"text",InputLabelProps:{shrink:!0},margin:"normal",variant:"outlined"}),r.a.createElement(M.a,{required:!0,id:"price",name:"price",type:"number",placeholder:"Introduzca el precio",label:"Precio del plato",value:this.state.menu.price,onChange:this.handlechange,InputLabelProps:{shrink:!0},InputProps:{startAdornment:r.a.createElement(K.a,{position:"start"},"\u20ac")},margin:"normal",variant:"outlined"}),r.a.createElement("label",{htmlFor:"image",className:"upload"},r.a.createElement("input",{onChange:this.handleFileUpload,type:"file",id:"image",name:"image"})),r.a.createElement("div",{className:"width"},r.a.createElement(B.a,{variant:"contained",color:"default",onClick:this.uploadImg},"Subir imagen",r.a.createElement(W.a,null))),r.a.createElement(M.a,{required:!0,id:"description",name:"description",label:"Descripci\xf3n",placeholder:"Introduzca una descripci\xf3n",multiline:!0,rows:"2",value:this.state.menu.description,onChange:this.handlechange,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement("div",{className:"btn-bottom"},r.a.createElement(B.a,{variant:"contained",type:"submit",color:"primary"},"Actualizar"),r.a.createElement(xe,null,r.a.createElement(p.b,{to:"/owner/home"},"Finalizar"))))),r.a.createElement(N,{user:this.props.loggedInUser}))}}]),t}(n.Component),Ue=(n.Component,a(82)),ke=a(219),Ie=a(269),Se=a(267),Ne=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){e.preventDefault();var t=document.getElementById("editar"),n=document.getElementById("borrar");t.id===e.currentTarget.id?a.setState({redirect:!0}):n.id===e.currentTarget.id&&a.services.deleteMenu(a.props.course).then(function(e){console.log("el menu actualizado del usuario",e.restaurant.menu),a.props.setTheUser(e)})},a.state={redirect:!1,show:!1},a.services=new A,console.log("setTheUser en card-courses",a.props.setTheUser),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.course,a=e.restaurant;return this.state.redirect?r.a.createElement(d.a,{to:"/owner/".concat(a._id,"/menu/").concat(t._id,"/edit")}):r.a.createElement("div",null,r.a.createElement("div",{className:"cards order"},r.a.createElement("figure",null,r.a.createElement("img",{src:t.image,alt:"restaurant"})),r.a.createElement("section",null,r.a.createElement("div",{className:"sum"},r.a.createElement("h2",null,t.name," ",r.a.createElement("span",null,"\u20ac",t.price))),r.a.createElement("p",null,t.description,"."),r.a.createElement("div",{className:"bottom"},r.a.createElement(B.a,{id:"editar",onClick:this.handleChange,name:"editar",className:"btn-edit"},"Editar"),r.a.createElement(B.a,{id:"borrar",onClick:this.handleChange,name:"borrar",className:"btn-del"},"Borrar")))))}}]),t}(n.Component);function _e(){var e=Object(G.a)(['\n    padding: 6px 16px;\n    font-size: 0.875rem;\n    min-width: 64px;\n    box-sizing: border-box;\n    font-family: "Roboto", "Helvetica", "Arial", sans-serif;\n    font-weight: 500;\n    line-height: 1.75;\n    border-radius: 4px;\n    letter-spacing: 0.02857em;\n    text-transform: uppercase;\n    color: #fff;\n    background-color: #000000;\n    margin-top: 20px;\n    width: 40%;\n    box-shadow: 0px 1px 5px 0px rgba(0,0,0,0.2), 0px 2px 2px 0px rgba(0,0,0,0.14), 0px 3px 1px -2px rgba(0,0,0,0.12);\n    text-align:center;\n    margin: 20px 0;\n']);return _e=function(){return e},e}var Te=X.a.div(_e()),qe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={redirect:!1,show:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.restaurant,a=this.props.restaurant.menu,n=this.props.coursesType,s=a.filter(function(e){return e.type===n});return console.log("menu filtrado ---\x3e",s),s.length?r.a.createElement("div",null,r.a.createElement("section",null,s.map(function(a,n){return r.a.createElement(Ne,{key:n,course:a,restaurant:t,setTheUser:e.props.setTheUser})})),r.a.createElement("div",{className:"btn-bottom"},r.a.createElement(Te,null,r.a.createElement(p.b,{to:"/owner/home"},"Finalizar")))):r.a.createElement("p",null,"No existen platos")}}]),t}(n.Component);function Pe(e){return r.a.createElement(ke.a,{component:"div",style:{padding:24}},e.children)}function ze(e){var t=r.a.useState(0),a=Object(Ue.a)(t,2),n=a[0],s=a[1];var o=e.restaurant;return console.log("setTheUser en course-tab",e.setTheUser),r.a.createElement("div",null,r.a.createElement(h.a,{position:"static"},r.a.createElement(Ie.a,{value:n,onChange:function(e,t){s(t)}},r.a.createElement(Se.a,{label:"Entrante"}),r.a.createElement(Se.a,{label:"Segundo"}),r.a.createElement(Se.a,{label:"Bebidas"}),r.a.createElement(Se.a,{label:"Postres"}))),0===n&&r.a.createElement(Pe,null,r.a.createElement(qe,{restaurant:o,coursesType:"first_courses",setTheUser:e.setTheUser})),1===n&&r.a.createElement(Pe,null,r.a.createElement(qe,{restaurant:o,coursesType:"second_courses",setTheUser:e.setTheUser})),2===n&&r.a.createElement(Pe,null,r.a.createElement(qe,{restaurant:o,coursesType:"drinks",setTheUser:e.setTheUser})),3===n&&r.a.createElement(Pe,null,r.a.createElement(qe,{restaurant:o,coursesType:"desserts",setTheUser:e.setTheUser})))}var De=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(D.a)({},n,r))},a.state={courseType:"",show:!1},console.log("setTheUser en course-list",a.props.setTheUser),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.loggedInUser.restaurant;return r.a.createElement("div",null,r.a.createElement(y,{user:this.props}),r.a.createElement("section",{className:"content"},r.a.createElement("div",{className:"col-2-header"},r.a.createElement("h2",null,"Lista de platos"),r.a.createElement(p.b,{to:"/owner/".concat(e._id,"/menu/new")},"Add courses")),r.a.createElement(ze,{restaurant:e,setTheUser:this.props.setTheUser})),r.a.createElement(N,{user:this.props.loggedInUser}))}}]),t}(n.Component);function Fe(){var e=Object(G.a)(["\n    height: 100vh;\n    width: 100vw;\n    background: url('../../../img/userhome.jpg') center no-repeat/ cover;\n\n"]);return Fe=function(){return e},e}var Le=X.a.div(Fe()),Re=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).setRedirect=function(){a.setState({redirect:!0})},a.renderRedirect=function(){if(a.state.redirect)return r.a.createElement(d.a,{to:"/owner/restaurant/new"})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(D.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,r=t.password;a.services.login(n,r).then(function(e){a.setState({username:"",password:"",redirect:!0}),a.props.setTheUser(e)}).catch(function(e){return console.log(e.response.data.message)})},a.state={username:"",password:"",redirect:!1},a.services=new ae,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return console.log("home",this.props),this.state.redirect?r.a.createElement(d.a,{to:"/"}):r.a.createElement(Le,null,r.a.createElement(y,{user:this.props}),r.a.createElement("div",{className:"section-1"},r.a.createElement("img",{src:"../../../img/logoWHITE.png",alt:"logo white",className:"logowhite"}),r.a.createElement("p",null,'"scans the QR of the table and orders "')),r.a.createElement(N,{user:this.props.loggedInUser}))}}]),t}(n.Component),Ae=(n.Component,function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handlechange=function(e){var t=e.target,n=(t.name,t.value);a.setState({menu:Object(F.a)({},a.state.menu,{quantity:n})})},a.handleSubmit=function(e){e.preventDefault();var t=a.state.menu;console.log("---------------------\x3e",t),a.services.postOrder(t).then(function(e){console.log("La orden",e)})},a.state={menu:{name:a.props.course.name,price:a.props.course.price,description:a.props.course.description,image:a.props.course.image,quantity:""},redirect:!1,show:!1},a.services=new A,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){console.log("props del plato recibido",this.props);var e=this.props.course;return r.a.createElement("div",{className:"cards order"},r.a.createElement("figure",null,r.a.createElement("img",{src:e.image,alt:"plato"})),r.a.createElement("section",null,r.a.createElement("h2",null,e.name," ",r.a.createElement("span",null,"$",e.price)),r.a.createElement("p",null,e.description,"."),r.a.createElement("div",{className:"sum"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"form",autoComplete:"off"},r.a.createElement(M.a,{id:"quantity",name:"quantity",label:"Cantidad",value:this.state.menu.quantity,onChange:this.handlechange,type:"number",InputLabelProps:{shrink:!0},margin:"normal"}),r.a.createElement(B.a,{variant:"contained",type:"submit",color:"primary"},"A\xf1adir")))))}}]),t}(n.Component)),Me=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={order:[],redirect:!1,show:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.menu,a=e.coursesType,n=t.filter(function(e){return e.type===a});return t.length?r.a.createElement("div",null,r.a.createElement("section",{className:"container"},n.map(function(e,t){return console.log("id del plato enviado----\x3e",e._id),r.a.createElement(Ae,{key:t,course:e})}))):r.a.createElement("h2",null,"No existen platos")}}]),t}(n.Component);function Be(e){return r.a.createElement(ke.a,{component:"div",style:{padding:24}},e.children)}function He(e){var t=r.a.useState(0),a=Object(Ue.a)(t,2),n=a[0],s=a[1];var o=e.menu;return r.a.createElement("div",null,r.a.createElement(h.a,{position:"static"},r.a.createElement(Ie.a,{value:n,onChange:function(e,t){s(t)}},r.a.createElement(Se.a,{label:"Entrante"}),r.a.createElement(Se.a,{label:"Segundo"}),r.a.createElement(Se.a,{label:"Bebidas"}),r.a.createElement(Se.a,{label:"Postres"}))),0===n&&r.a.createElement(Be,null,r.a.createElement(Me,{menu:o,coursesType:"first_courses"})," "),1===n&&r.a.createElement(Be,null,r.a.createElement(Me,{menu:o,coursesType:"second_courses"})),2===n&&r.a.createElement(Be,null,r.a.createElement(Me,{menu:o,coursesType:"drinks"})),3===n&&r.a.createElement(Be,null,r.a.createElement(Me,{menu:o,coursesType:"desserts"})))}var We=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handlechange=function(e){var t=e.target,n=t.name,r=t.value;a.setState({menu:Object(F.a)({},a.state.menu,Object(D.a)({},n,r))})},a.state={menu:[]},a.services=new A,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.services.getMenu(this.props.match.params.restaurant_id).then(function(t){return e.setState({menu:t})})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(y,{user:this.props}),r.a.createElement("section",{className:"content-home"},r.a.createElement("header",{className:"hero-menu"},r.a.createElement("h1",null,"Welcome to ",this.state.menu.name)),r.a.createElement(He,{menu:this.state.menu}),r.a.createElement("section",{className:"container"})),r.a.createElement(N,{user:this.props.loggedInUser}))}}]),t}(n.Component),$e=a(81),Ge=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).updateOrder=function(e,t){var n=Object($e.a)(a.state.order);n[t]=e,a.setState({order:n})},a.handleOrder=function(){a.services.updateOrder(a.state.order).then(function(e){console.log("order actualizado",e);var t=e.filter(function(e){return 0!==e.quantity});a.setState({order:t})})},a.state={order:[],totalAmount:0},a.services=new A,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.services.getOrder().then(function(t){e.setState({order:t})})}},{key:"totalPrice",value:function(){return this.state.order.reduce(function(e,t){return e+t.price*t.quantity},0)}},{key:"render",value:function(){var e=this,t=this.state.order;return console.log("la orden",t),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(y,{user:this.props}),r.a.createElement("section",{className:"content-home"},r.a.createElement("header",{className:"hero-bag"},r.a.createElement("h1",null,"Thank you")),r.a.createElement("section",{className:"container"},r.a.createElement("h2",null,"Su comanda..."),t.map(function(t,a){return r.a.createElement(je,{key:a,index:a,course:t,updateOrder:e.updateOrder})})),r.a.createElement("section",{className:"footer-bag"},r.a.createElement(B.a,{onClick:this.handleOrder,variant:"contained",className:"btn-order"},"Pedir"),r.a.createElement("h1",null,"Total: $",this.totalPrice())),r.a.createElement("section",{className:"footer"},r.a.createElement("h2",null,"\xbfHas terminado?"),r.a.createElement("form",{onSubmit:this.handleSubmit,className:"form2",autoComplete:"off"},r.a.createElement(Q.a,null,r.a.createElement(V.a,{shrink:!0,htmlFor:"type"},"Forma de pago"),r.a.createElement(J.a,{onChange:this.handleChange,input:r.a.createElement(Y.a,{name:"type",id:"type"})},r.a.createElement("option",{value:""}),r.a.createElement("option",{value:"first_courses"},"Paypal"),r.a.createElement("option",{value:"drinks"},"Tarjeta de cr\xe9dito"),r.a.createElement("option",{value:"desserts"},"Efectivo"))),r.a.createElement(B.a,{variant:"contained",type:"submit",className:"pay"},"Pagar")))),r.a.createElement(N,{user:this.props.loggedInUser})))}}]),t}(n.Component),Qe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={redirect:!1,show:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){if(!this.props.user)return console.log("no hay usuario"),r.a.createElement(d.a,{to:"/login"});var e=this.props.user.role;return"user"===e?r.a.createElement(d.a,{to:"/home"}):"owner"===e?r.a.createElement(d.a,{to:"/owner/home"}):r.a.createElement("div",null,r.a.createElement("h1",null,"Redirects"))}}]),t}(n.Component),Ve=a(48),Je=a(131),Ye=a.n(Je),Ke=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={delay:100,result:"No result",redirect:!1},a.handleScan=a.handleScan.bind(Object(Ve.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleScan",value:function(e){e&&(e=e.slice(7),console.log(e),this.setState({result:e,redirect:!0}))}},{key:"handleError",value:function(e){console.error(e)}},{key:"render",value:function(){return this.state.redirect?r.a.createElement(d.a,{to:"/".concat(this.state.result)}):r.a.createElement("div",null,r.a.createElement(Ye.a,{delay:this.state.delay,style:{height:240,width:320},onError:this.handleError,onScan:this.handleScan}),r.a.createElement("p",null,this.state.result))}}]),t}(n.Component),Xe=a(58);function Ze(){var e=Object(G.a)(["\n  text-align: ",";\n"]);return Ze=function(){return e},e}function et(){var e=Object(G.a)(["\n  background: ",";\n  border-radius: 10px;\n  padding: 4px 8px;\n  margin: 10px;\n  display: inline-block;\n  text-align: ",";\n"]);return et=function(){return e},e}var tt=Xe.a.div(et(),function(e){return e.server?"gray":"green"},function(e){return e.server?"left":"right"}),at=Xe.a.div(Ze(),function(e){return e.server?"left":"right"}),nt=function(e){var t=e.children,a=e.server,n=void 0!==a&&a;return r.a.createElement(at,{server:n},r.a.createElement(tt,{server:n},t))};function rt(){var e=Object(G.a)(["\n  width: 20%;\n  padding: 5px;\n  font-size: 20px;\n  box-sizing: border-box;\n  display: inline-block;\n  text-align: center;\n  background: tomato;\n  color: white;\n  user-select: none;\n  cursor: pointer;\n"]);return rt=function(){return e},e}function st(){var e=Object(G.a)(["\n  width: 80%;\n  padding: 5px;\n  font-size: 20px;\n  box-sizing: border-box;\n  border: 0;\n"]);return st=function(){return e},e}var ot=Xe.a.input(st()),lt=Xe.a.a(rt()),ct=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).state={text:""},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"send",value:function(){var e=this.state.text,t=this.props.newMessage;t?(console.log("Sending message: ".concat(e)),t(e)):console.log("Missing callback"),this.setState({text:""})}},{key:"render",value:function(){var e=this,t=this.state.text;return r.a.createElement("div",null,r.a.createElement(ot,{value:t,placeholder:"Conectado...",onKeyPress:function(t){"Enter"===t.key&&e.send()},onChange:function(t){e.setState({text:t.target.value})}}),r.a.createElement(lt,{onClick:function(){return e.send()}},"Send"))}}]),t}(n.Component),it=a(132);function ut(){var e=Object(G.a)(["\n  border: 1px solid red;\n  padding: 10px;\n  width: 100%;"]);return ut=function(){return e},e}var mt=a.n(it)()("\u200bhttps://app-easy-pay.herokuapp.com/api/",{path:"/api/socket"}),dt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={messages:[]},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state.messages;console.log("Chat Ready"),mt.on("front",function(a){console.log("Mensaje del servidor: ".concat(a)),t.push({type:"server",msg:a}),e.setState({messages:t}),console.log(e.state)})}},{key:"render",value:function(){var e=this,t=X.a.div(ut());return r.a.createElement("div",null,r.a.createElement(y,{user:this.props}),r.a.createElement("div",{className:"content"},r.a.createElement(t,null,this.state.messages.map(function(e,t){var a=e.type,n=e.msg;return r.a.createElement(nt,{server:"server"===a,key:t},n)}),r.a.createElement(ct,{newMessage:function(t){mt.emit("mensajeria",t),e.state.messages.push({type:"me",msg:t}),e.setState({messages:e.state.messages})}}))),r.a.createElement(N,{user:this.props.loggedInUser}))}}]),t}(n.Component),pt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).setUser=function(e){return a.setState({loggedInUser:e})},a.fetchUser=function(){null===a.state.loggedInUser&&a.services.loggedin().then(function(e){a.setState({loggedInUser:e},function(){})}).catch(function(e){return a.setState({loggedInUser:!1})})},a.state={loggedInUser:null},a.services=new ae,a.fetchUser(),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return this.fetchUser(),r.a.createElement("div",null,r.a.createElement(ne,{setTheUser:this.setUser}),r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/qr",exact:!0,component:Ke}),r.a.createElement(d.b,{path:"/",exact:!0,render:function(){return r.a.createElement(Qe,{user:e.state.loggedInUser})}}),r.a.createElement(he,{user:this.state.loggedInUser,path:"/owner/home",exact:!0,component:z}),r.a.createElement(he,{user:this.state.loggedInUser,setUser:this.setUser,path:"/owner/restaurant/new",exact:!0,component:$}),r.a.createElement(he,{user:this.state.loggedInUser,setUser:this.setUser,path:"/owner/:restaurant_id/edit",exact:!0,component:fe}),r.a.createElement(he,{user:this.state.loggedInUser,setUser:this.setUser,path:"/owner/:restaurant_id/menu/new",exact:!0,component:te}),r.a.createElement(he,{user:this.state.loggedInUser,setUser:this.setUser,path:"/owner/:restaurant_id/menu/:course_id/edit",exact:!0,component:Ce}),r.a.createElement(he,{user:this.state.loggedInUser,path:"/owner/:restaurant_id/tables",exact:!0,component:Oe}),r.a.createElement(he,{user:this.state.loggedInUser,setUser:this.setUser,path:"/owner/:restaurant_id/courses",exact:!0,component:De}),r.a.createElement(he,{user:this.state.loggedInUser,path:"/owner/:restaurant_id/:table_id",exact:!0,component:ye}),r.a.createElement(he,{user:this.state.loggedInUser,path:"/:table/:num/chat",exact:!0,component:dt}),r.a.createElement(ge,{user:this.state.loggedInUser,path:"/home",exact:!0,component:Re}),r.a.createElement(ge,{user:this.state.loggedInUser,path:"/home",exact:!0,component:Re}),r.a.createElement(ge,{user:this.state.loggedInUser,path:"/:restaurant_id/:table_id",exact:!0,component:We}),r.a.createElement(ge,{user:this.state.loggedInUser,path:"/:restaurant_id/:table_id/order",exact:!0,component:Ge}),r.a.createElement(d.b,{path:"/signup",exact:!0,render:function(){return r.a.createElement(ie,{setTheUser:e.setUser})}}),r.a.createElement(d.b,{path:"/login",exact:!0,render:function(){return r.a.createElement(de,{setTheUser:e.setUser})}})))}}]),t}(n.Component);o.a.render(r.a.createElement(p.a,null,r.a.createElement(pt,null)),document.getElementById("root"))}},[[137,1,2]]]);
//# sourceMappingURL=main.dafa4f66.chunk.js.map